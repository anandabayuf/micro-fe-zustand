{"version":3,"file":"static/js/901.10d8dc92.chunk.js","mappings":"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","sources":["routes/routeList.tsx","routes/components/AppRequireAuth/index.tsx","routes/index.tsx","App.tsx","reportWebVitals.ts","services/public.api.ts","combinedReducers.ts","store.ts","bootstrap.tsx","constants/index.tsx","hooks/useRedux.ts","services/authService/slice.ts","config/index.ts","services/constants.ts","services/enums.ts","services/secured.api.ts","utils/cookieUtils.ts","utils/localStorageUtils.ts","utils/parserUtils.ts"],"sourcesContent":["import { Navigate, PathRouteProps } from 'react-router-dom';\nimport React from 'react';\n\nconst LoginPage = React.lazy(() => import('../pages/Login'));\nconst HomePage = React.lazy(() => import('submodule/HomePage'));\n\nexport const PUBLIC_ROUTES: PathRouteProps[] = [\n\t{\n\t\tpath: '/',\n\t\telement: (\n\t\t\t<Navigate\n\t\t\t\tto=\"/login\"\n\t\t\t\treplace\n\t\t\t/>\n\t\t),\n\t},\n\t{\n\t\tpath: '/login',\n\t\telement: <LoginPage />,\n\t},\n\t{\n\t\tpath: '*',\n\t\telement: (\n\t\t\t<Navigate\n\t\t\t\tto=\"/login\"\n\t\t\t\treplace\n\t\t\t/>\n\t\t),\n\t},\n];\n\nexport const SECURED_ROUTES: PathRouteProps[] = [\n\t{\n\t\tpath: '/home',\n\t\telement: <HomePage />,\n\t},\n];\n","import { useSelectAuth } from '@/services/authService/slice';\r\nimport { parseAccessToken } from '@/utils/parserUtils';\r\nimport React from 'react';\r\nimport { Outlet, useNavigate } from 'react-router-dom';\r\n\r\nconst AppRequireAuth: React.FC = () => {\r\n\tconst navigate = useNavigate();\r\n\t//@ts-ignore\r\n\tconst { accessToken } = useSelectAuth();\r\n\r\n\tReact.useEffect(() => {\r\n\t\tconst validateAccessToken = () => {\r\n\t\t\tconst parsedAccessToken = parseAccessToken(accessToken as string);\r\n\t\t\tconsole.log(accessToken);\r\n\t\t\tif (!accessToken || !parsedAccessToken) {\r\n\t\t\t\treturn navigate('/login');\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\tvalidateAccessToken();\r\n\t}, [accessToken]);\r\n\r\n\tif (!accessToken) {\r\n\t\treturn <></>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Suspense fallback={'Loading...'}>\r\n\t\t\t<Outlet />\r\n\t\t</React.Suspense>\r\n\t);\r\n};\r\n\r\nexport default AppRequireAuth;\r\n","import React from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport { PUBLIC_ROUTES, SECURED_ROUTES } from './routeList';\nimport AppRequireAuth from './components/AppRequireAuth';\n\nconst AppRoutes: React.FC = () => {\n\treturn (\n\t\t<React.Suspense fallback=\"Loading...\">\n\t\t\t<Routes>\n\t\t\t\t{PUBLIC_ROUTES.map((route, index) => (\n\t\t\t\t\t<Route\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t{...route}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\n\t\t\t\t<Route element={<AppRequireAuth />}>\n\t\t\t\t\t{[...SECURED_ROUTES].map((route, index) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tpath={route?.path}\n\t\t\t\t\t\t\t\telement={route?.element}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</Route>\n\t\t\t</Routes>\n\t\t</React.Suspense>\n\t);\n};\n\nexport default AppRoutes;\n","import React from 'react';\nimport './App.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport AppRoutes from './routes';\n\nconst App: React.FC = () => {\n\treturn (\n\t\t<BrowserRouter>\n\t\t\t<AppRoutes />\n\t\t</BrowserRouter>\n\t);\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { TFetchResponse, TPublicKeyResponse } from '@/services/types';\r\nimport { DEFAULT_IAM_URL } from '@/services/constants';\r\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/dist/query/react';\r\n\r\nconst publicKeySlice = createApi({\r\n  reducerPath: 'publicKeySlice',\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: DEFAULT_IAM_URL,\r\n  }),\r\n  endpoints: (builder) => ({\r\n    getPublicKey: builder.query<TFetchResponse<TPublicKeyResponse>, any>({\r\n      query: () => '/public/publickey',\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const { useGetPublicKeyQuery } = publicKeySlice;\r\nexport default publicKeySlice;\r\n","import { combineReducers } from 'redux';\r\nimport authReducers from '@/services/authService/slice';\r\nimport baseApiSlice from './services/secured.api';\r\nimport publicKeySlice from './services/public.api';\r\nimport subModuleReducers from 'submodule/moduleReducers';\r\n\r\nconst reducer = combineReducers({\r\n\tauth: authReducers,\r\n\t[baseApiSlice.reducerPath]: baseApiSlice.reducer,\r\n\t[publicKeySlice.reducerPath]: publicKeySlice.reducer,\r\n\t...subModuleReducers,\r\n});\r\n\r\nexport type RootState = ReturnType<typeof reducer>;\r\n\r\nexport default reducer;\r\n","import {\r\n\tAnyAction,\r\n\tconfigureStore,\r\n\tMiddleware,\r\n\tMiddlewareArray,\r\n} from '@reduxjs/toolkit';\r\nimport reducer, { RootState } from './combinedReducers';\r\nimport logger from 'redux-logger';\r\nimport thunk, { ThunkDispatch } from 'redux-thunk';\r\nimport { setupListeners } from '@reduxjs/toolkit/dist/query';\r\nimport publicKeySlice from './services/public.api';\r\nimport baseApiSlice from './services/secured.api';\r\n\r\nconst exampleCustomMiddleware: Middleware<object, RootState> =\r\n\t(store) => (next) => (action) => {\r\n\t\t// const state = store.getState();\r\n\t\tnext(action);\r\n\t};\r\n\r\nconst customMiddleware = [exampleCustomMiddleware];\r\nconst apiMiddleware = [baseApiSlice.middleware, publicKeySlice.middleware];\r\n\r\nconst reducerProxy = (state: any, action: AnyAction) => {\r\n\tif (action.type === 'auth/removeAccessToken') {\r\n\t\t//@ts-ignore\r\n\t\treturn reducer(undefined, action);\r\n\t}\r\n\t//@ts-ignore\r\n\treturn reducer(state, action);\r\n};\r\n\r\nconst store = configureStore({\r\n\treducer: reducerProxy,\r\n\tmiddleware: new MiddlewareArray()\r\n\t\t.concat(thunk, logger)\r\n\t\t.concat(...apiMiddleware, ...customMiddleware),\r\n\tdevTools: true,\r\n});\r\n\r\nexport type AppDispatch = typeof store.dispatch;\r\nexport type AppThunkDispatch = ThunkDispatch<RootState, any, AnyAction>;\r\n\r\nsetupListeners(store.dispatch);\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nconst root = ReactDOM.createRoot(\n\tdocument.getElementById('root') as HTMLElement\n);\nroot.render(\n\t<React.StrictMode>\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>\n\t</React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { EnumTags } from '@/services/enums';\r\n\r\nexport const APP_NAME = 'container';\r\n\r\nexport const TAGS: string[] = [\r\n\tEnumTags.ALL,\r\n\tEnumTags.CMS,\r\n\tEnumTags.PENDINGTASK,\r\n];\r\n","import { RootState } from '@/combinedReducers';\r\nimport { AppDispatch } from '@/store';\r\nimport { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\r\n\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n","import { useAppSelector } from '@/hooks/useRedux';\r\nimport { removeLocalStorageObjectValue } from '@/utils/localStorageUtils';\r\nimport { parseAccessToken } from '@/utils/parserUtils';\r\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport produce from 'immer';\r\nimport { TAuthInitialState } from './types';\r\nimport { getParsedCookie, setCookie } from '@/utils/cookieUtils';\r\n\r\nconst initialState: TAuthInitialState = {\r\n\taccessToken: getParsedCookie('accessToken'),\r\n\tpublicKey: getParsedCookie('publicKey'),\r\n\tuserInfo: parseAccessToken(getParsedCookie('accessToken')),\r\n};\r\n\r\nconst authSlice = createSlice({\r\n\tname: 'auth',\r\n\tinitialState,\r\n\treducers: {\r\n\t\tsetAccessToken: (\r\n\t\t\tstate: TAuthInitialState,\r\n\t\t\taction: PayloadAction<string>\r\n\t\t) => {\r\n\t\t\tsetCookie('accessToken', action.payload);\r\n\t\t\treturn produce(state, (draftState) => {\r\n\t\t\t\tdraftState.accessToken = action.payload;\r\n\t\t\t\tdraftState.userInfo = parseAccessToken(action.payload);\r\n\t\t\t});\r\n\t\t},\r\n\t\tsetPublicKey: (\r\n\t\t\tstate: TAuthInitialState,\r\n\t\t\taction: PayloadAction<string>\r\n\t\t) => {\r\n\t\t\tsetCookie('publicKey', action.payload);\r\n\r\n\t\t\treturn produce(state, (draftState) => {\r\n\t\t\t\tdraftState.publicKey = action.payload;\r\n\t\t\t});\r\n\t\t},\r\n\t\tremoveAccessToken: (state: TAuthInitialState) => {\r\n\t\t\tremoveLocalStorageObjectValue('accessToken');\r\n\t\t\treturn produce(state, (draftState) => {\r\n\t\t\t\tdraftState.accessToken = null;\r\n\t\t\t\tdraftState.userInfo = null;\r\n\t\t\t});\r\n\t\t},\r\n\t},\r\n});\r\n\r\nexport const { setAccessToken, removeAccessToken, setPublicKey } =\r\n\tauthSlice.actions;\r\n\r\nexport const useSelectAuth = () => useAppSelector((state) => state.auth);\r\n\r\nexport default authSlice.reducer;\r\n","export const ENV_API_URL_LOCATION = process.env.REACT_APP_API_URL_LOCATION;\r\nexport const ENV_IAM_URL = process.env.REACT_APP_IAM_URL;\r\n","import { ENV_API_URL_LOCATION, ENV_IAM_URL } from '@/config';\r\n\r\nexport const API_BASE_URL = ENV_API_URL_LOCATION;\r\nexport const DEFAULT_IAM_URL = ENV_IAM_URL || 'http://34.101.71.39:9037';\r\n\r\nexport const API_ENV = {\r\n  refetchOnFocus: true,\r\n  refetchOnReconnect: true,\r\n  refetchOnMountOrArgChange: true,\r\n};\r\n","export enum EnumTags {\r\n  ALL = 'all',\r\n  CMS = 'cms',\r\n  PENDINGTASK = 'PENDINGTASK',\r\n}\r\n\r\nexport enum EDirection {\r\n  ASC = 'ASC',\r\n  DESC = 'DESC',\r\n}\r\n\r\nexport enum HTTPMethod {\r\n  GET = 'GET',\r\n  POST = 'POST',\r\n}\r\n","import {\r\n\tremoveAccessToken,\r\n\tsetAccessToken,\r\n} from '@/services/authService/slice';\r\nimport { RootState } from '@/combinedReducers';\r\nimport { TBaseQueryFn, TQueryReturnValue } from '@/services/types';\r\nimport { removeLocalStorageObjectValue } from '@/utils/localStorageUtils';\r\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/dist/query/react';\r\nimport { API_BASE_URL } from '@/services/constants';\r\nimport { TAGS } from '@/constants';\r\nimport { getParsedCookie, setCookie } from '@/utils/cookieUtils';\r\n\r\nconst baseQuery = fetchBaseQuery({\r\n\tbaseUrl: API_BASE_URL,\r\n\tprepareHeaders: (headers, api) => {\r\n\t\tconst state = api.getState() as RootState;\r\n\t\tif (api.endpoint !== 'login') {\r\n\t\t\tconst accessToken =\r\n\t\t\t\t//@ts-ignore\r\n\t\t\t\tstate.auth.accessToken || getParsedCookie('accessToken');\r\n\t\t\theaders.set('Authorization', `Bearer ${accessToken}`);\r\n\t\t}\r\n\t\treturn headers;\r\n\t},\r\n});\r\n\r\nconst baseQueryWithAuth: TBaseQueryFn = async (args, api, extraOptions) => {\r\n\tconst result = (await baseQuery(\r\n\t\targs,\r\n\t\tapi,\r\n\t\textraOptions\r\n\t)) as TQueryReturnValue;\r\n\r\n\tif (result.error?.data) {\r\n\t\tif (result.error?.data?.business === false) {\r\n\t\t\t// parseErrorMessage2('error.business.false');\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\t// parseErrorMessage2(result.error?.data.message);\r\n\t\tconst errMessage = result.error.data.message;\r\n\t\tif (errMessage === 'jwtverification.exception.001') {\r\n\t\t\tapi.dispatch(removeAccessToken());\r\n\t\t\tremoveLocalStorageObjectValue('accessToken');\r\n\t\t}\r\n\t}\r\n\r\n\tconst newAccessToken = result.meta?.response?.headers.get('access_token');\r\n\tif (newAccessToken) {\r\n\t\tapi.dispatch(setAccessToken(newAccessToken));\r\n\t\tsetCookie('accessToken', newAccessToken);\r\n\t}\r\n\r\n\treturn result;\r\n};\r\n\r\nexport const apiSlice = createApi({\r\n\tbaseQuery: baseQueryWithAuth,\r\n\ttagTypes: TAGS,\r\n\tendpoints: () => ({}),\r\n});\r\n\r\nexport default apiSlice;\r\n","const MODULE_URL = process.env.REACT_APP_MODULE_URL;\n\nexport const getParsedCookie = (key: string) => {\n\tconst cookie = document.cookie.split(';');\n\n\tfor (let i = 0; i < cookie.length; i++) {\n\t\tconst parsedCookie = cookie[i].split('=');\n\t\tif (parsedCookie[0] === key) return parsedCookie[1];\n\t}\n\n\treturn undefined;\n};\n\nexport const setCookie = (key: string, value: string) => {\n\tconst domain = MODULE_URL?.split('http://')[1];\n\n\tdocument.cookie = `${key}=${value};domain=${domain}`;\n};\n","import { APP_NAME } from '@/constants';\r\n\r\nexport const getLocalStorageObjectValue = <T>(key: string | string[]): T | undefined => {\r\n  //get value from local storage which the type of value is object\r\n  try {\r\n    if (window.localStorage.getItem(APP_NAME)) {\r\n      const getItemValue: Record<string, T> = JSON.parse(window.localStorage.getItem(APP_NAME));\r\n      if (key instanceof Array) {\r\n        return key.reduce((result, item) => {\r\n          return Object.assign(result, { [item]: getItemValue[item] });\r\n        }, {} as T);\r\n      }\r\n      return getItemValue[key] || undefined;\r\n    }\r\n    return undefined;\r\n  } catch (error) {\r\n    console.error(\r\n      `Error when get local storage object value function is triggered - LocalStorageUtils. ${error}`,\r\n    );\r\n  }\r\n\r\n  return undefined;\r\n};\r\n\r\nexport const setLocalStorageObjectItem = (value: object = {}): void => {\r\n  //set object value to local storage\r\n  try {\r\n    const getItemValue: string = window.localStorage.getItem(APP_NAME) as string;\r\n\r\n    const localStorageItem = JSON.parse(getItemValue);\r\n    if (localStorageItem && typeof localStorageItem === 'object')\r\n      return window.localStorage.setItem(\r\n        APP_NAME,\r\n        JSON.stringify({ ...localStorageItem, ...value }),\r\n      );\r\n    return window.localStorage.setItem(APP_NAME, JSON.stringify({ ...value }));\r\n  } catch (error) {\r\n    console.error(\r\n      `Error when set local storage object item function is triggered - LocalStorageUtils. ${error}`,\r\n    );\r\n  }\r\n};\r\n\r\nexport const removeLocalStorageObjectValue = (key: string | string[]): void => {\r\n  //remove the existing value from the local storage's object.\r\n  try {\r\n    const getItemValue: any = window.localStorage.getItem(APP_NAME) as string;\r\n    const localStorageItem = JSON.parse(getItemValue);\r\n    if (localStorage && typeof localStorageItem === 'object') {\r\n      if (typeof key === 'string') {\r\n        delete localStorageItem[key as string];\r\n      }\r\n\r\n      if (key instanceof Array) key.forEach((item: string) => delete localStorageItem[item]);\r\n\r\n      window.localStorage.setItem(APP_NAME, JSON.stringify(localStorageItem));\r\n    }\r\n  } catch (error) {\r\n    console.error(\r\n      `Error when remove local storage object item function is triggered - LocalStorageUtils. ${error}`,\r\n    );\r\n  }\r\n};\r\n","import { UploadFile } from 'antd';\r\nimport jwt, { JwtPayload } from 'jsonwebtoken';\r\nimport { v4 as uuid4 } from 'uuid';\r\n\r\nexport const parseFileObj = async (\r\n\tfile: Blob\r\n): Promise<string | ArrayBuffer | null | undefined> => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconst reader: FileReader = new FileReader();\r\n\t\tlet base64: string | ArrayBuffer | null | undefined;\r\n\r\n\t\treader.onload = (fileLoadedEvent) => {\r\n\t\t\tbase64 = fileLoadedEvent?.target?.result;\r\n\t\t\tresolve(base64);\r\n\t\t};\r\n\r\n\t\treader.onerror = () => reject('Something wrong with the file');\r\n\t\tif (file) reader.readAsDataURL(file);\r\n\t});\r\n};\r\n\r\nexport const capitalize = (word = '', eachWord = false): string | undefined => {\r\n\tword = word.toLocaleLowerCase();\r\n\r\n\tif (!eachWord) {\r\n\t\tconst firstLetter: string = word[0].toUpperCase();\r\n\t\tconst rest: string = word.slice(1);\r\n\t\treturn `${firstLetter}${rest}`;\r\n\t}\r\n\r\n\treturn word;\r\n};\r\n\r\nexport function parseAccessToken(token: string): null | JwtPayload {\r\n\treturn jwt.decode(token) as JwtPayload | null;\r\n}\r\n\r\nexport const limitWord = (word = '', limit = 10): string => {\r\n\tif (word.length > 10) return `${word.slice(0, limit)}...`;\r\n\r\n\treturn word;\r\n};\r\n\r\nexport function parseFileList(\r\n\tfileList: string[] | UploadFile<any>[]\r\n): UploadFile<any>[] {\r\n\treturn fileList.map((file) => {\r\n\t\tconst uid = uuid4();\r\n\t\tif (typeof file === 'string') {\r\n\t\t\treturn {\r\n\t\t\t\tuid: uid,\r\n\t\t\t\tname: uid,\r\n\t\t\t\tpreview: file,\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn file;\r\n\t});\r\n}\r\n"],"names":["LoginPage","React","HomePage","PUBLIC_ROUTES","path","element","_jsx","Navigate","to","replace","SECURED_ROUTES","navigate","useNavigate","accessToken","useSelectAuth","parsedAccessToken","parseAccessToken","console","log","validateAccessToken","fallback","children","Outlet","_Fragment","_jsxs","Routes","map","route","index","Route","_objectSpread","AppRequireAuth","_toConsumableArray","BrowserRouter","AppRoutes","onPerfEntry","Function","then","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","publicKeySlice","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","DEFAULT_IAM_URL","endpoints","builder","getPublicKey","query","useGetPublicKeyQuery","combineReducers","_objectSpread2","auth","authReducers","_defineProperty","baseApiSlice","reducer","subModuleReducers","customMiddleware","store","next","action","apiMiddleware","middleware","configureStore","state","type","undefined","_MiddlewareArray$conc","MiddlewareArray","concat","thunk","logger","apply","devTools","setupListeners","dispatch","ReactDOM","document","getElementById","render","Provider","App","reportWebVitals","APP_NAME","TAGS","EnumTags","ALL","CMS","PENDINGTASK","useAppSelector","useSelector","initialState","getParsedCookie","publicKey","userInfo","authSlice","createSlice","name","reducers","setAccessToken","setCookie","payload","produce","draftState","setPublicKey","removeAccessToken","removeLocalStorageObjectValue","_authSlice$actions","actions","API_BASE_URL","process","HTTPMethod","prepareHeaders","headers","api","getState","endpoint","set","baseQueryWithAuth","_asyncToGenerator","_regeneratorRuntime","mark","_callee","args","extraOptions","_result$error","_result$meta","_result$meta$response","result","_result$error2","_result$error2$data","newAccessToken","wrap","_context","prev","sent","error","data","business","abrupt","message","meta","response","get","stop","_x","_x2","_x3","arguments","apiSlice","tagTypes","MODULE_URL","key","cookie","split","i","length","parsedCookie","value","domain","getItemValue","window","localStorage","getItem","localStorageItem","JSON","parse","Array","forEach","item","setItem","stringify","token","jwt"],"sourceRoot":""}